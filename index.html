<!DOCTYPE html>
<html>
<head>
    <title>Puzzle Game</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="container">
        <div class="frame">
            <textarea class="level-text" cols="50" rows="10" disabled></textarea><br>
            <label class="encrypted-label"></label><br>
            <input class="input-entry" type="text"><br>
            <button class="submit-button">Submit</button>
        </div>
        <textarea id="outro-text" cols="50" rows="10" disabled></textarea>
    </div>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            const levelTexts = [
                "Here's level 1 of the puzzle. Good luck decoding it!\n" +
                "Remember, you are allowed only 10 attempts per level, make it count!",

                "Woo! You've passed through that, one smart cookie.\n" +
                "Now, let's see if your curious little mind can solve this one, trust me it's harder than it looks! :D",

                "Great job! You have a great puzzle-solving skill.\n" +
                "This one'll test your patience a lot and could be painful at times since it is quite different from what you would have solved earlier. Good luck!",

                "You have actually solved that?! That's... that's incredible!\n" +
                "Now, this one is designed to be REALLY challenging and I mean it when I say that. Let's not get too excited, shall we? Good luck!(>.<):"
            ];

            const encryptedTexts = [
                "01101000 01100101 01101100 01101100 01101111 00100000 01110100 01101000 01100101 01110010 01100101",
                "000000000000000000000000000000110010000010000000000010000000000000000000000010000000000000000000000000000000011011011011001111010010010010000000000000100000000000000000000000000000000000000100100001001001001100000000000100011001001001001001001001001001001001001100001001001001001001001001001001001100100010000000000000100100100011001100010001001001001001001001001001001001001001001001001100000000000000000000000000100100001001001001001001001001100000000000000000100001001001001001001001100011100010001001100000000000000000000000000000000000000100001001100011000100010000000000000000000100001001001001001001001001001001001001001001100001001001001100000000000000000000000000000000000000000000000000000100001001001001001001001001001001001001001001001100000000000000000100011000000000000000000000000000000000000000000000000100010001001001001001100000000000000000000000000000100001001001100001001001001100000000000000000000000000000100000000000000000000100011001001100010001001001001001100000100001001001001001001001001001001001100000000000000000000000000000000000000000100001001001001001001001001001001001001001001001001001100011011000000000000000000000000000000000000000000000100010010000000000000000000100000000000000000000000000000000000000000000000000000100011011001001001001001001001100010010001001001001001001001100011100010000000000000000000100001001001001001001001001001001001001001001001100001001001001001001001100000000000000000000000000000000000000000000000000000000000100001100011011000000000000000100010010000100001001001001001001001001001001001001100001001001001001001001100000000000000000000000000000000000000000000000000000000000100011011100010010001001001001001100001100001001001001001001001001001100011011100010010000000000100001001001001001001001100000000000000000000000000000000000000100001100001001001001001001001100000000000000000000000000000000000000000000000100011011100010010001001001001001001001001100001001001100000000000000000100001001001001001001001001001100011011001001001001001001100010001001001001001001001001001001100000000000000000000000000000000000000000000000000000000000100011000100010010000000000000000000000000000000000000000000100001001001001100000000000000000000100001001001100001001001001001001001001001001001001001001001100000000100000000000000100001001001001001100011001001001001001001001001001100010000000000000000000000000000000000100000100001001001001001001001001001001001100000000000000000000000000000000000000000100001001001001001001001001001001001001001001001001001100011011100010010000000000000000000000000100001001001001100011100010001001001001001001001001001001001001001001001001100001100011000000000000000000000000000100011000000000000000000000100000000000000000000000000000000000100001001001001001001001001001001001001001001001001001001100010010000000000000000000000000000000000000000000000000000000000000000000000000000000000100001001001001001001001001001001100011001001001001001001001001001100010001001001001001001001001001001001001001001001001100001100011000000000000000000000000000100011000000000000000000000100000000000000000000000000000000000100",
                "Grgr Rcgyr Jzviir Jzviir Nyzjbvp Fjtri Ifdvf Uvckr",
                "82 69 68 69 77 80 84 79 82 65 82 66 73 84 69 82 83 65 80 73 69 78 84 73 83 83 73 77 85 83 79 77 78 73 80 79 84 69 78 83 73 85 68 69 88 79 77 78 73 80 79 84 69 78 83 82 69 68 69 77 80 84 79 82 79 80 84 73 77 85 83 77 65 71 78 85 83 77 65 71 78 85 83 82 69 88 79 80 73 70 69 88"
            ];

            const frames = document.querySelectorAll('.frame');
            const inputEntries = document.querySelectorAll('.input-entry');
            const levelTextAreas = document.querySelectorAll('.level-text');
            const encryptedLabels = document.querySelectorAll('.encrypted-label');
            const submitButtons = document.querySelectorAll('.submit-button');
            const outroText = document.getElementById('outro-text');

            let currentLevel = 0;

            function insertTextWithDelay(textWidget, text) {
                let index = 0;
                const timer = setInterval(() => {
                    if (index >= text.length) {
                        clearInterval(timer);
                        return;
                    }
                    textWidget.value += text[index];
                    index++;
                }, 20);
            }

            function showLevel(level) {
                frames.forEach((frame, index) => {
                    if (index === level) {
                        frame.style.display = 'block';
                    } else {
                        frame.style.display = 'none';
                    }
                });
            }

            function checkInput(level) {
                const userInput = inputEntries[level].value;

                if (level === 0) {
                    if (userInput.toLowerCase() === "hello there") {
                        nextLevel();
                    } else {
                        handleIncorrectInput();
                    }
                } else if (level === 1) {
                    if (userInput.toLowerCase() === "hello there") {
                        const trollCheck = "Ahahahaha! You think I'm a fool?";
                        console.log(trollCheck);
                    } else if (userInput.toLowerCase() === "to be or not to be" || userInput === "317") {
                        nextLevel();
                    } else {
                        handleIncorrectInput();
                    }
                } else if (level === 2) {
                    if (userInput.toLowerCase() === "password") {
                        nextLevel();
                    } else {
                        handleIncorrectInput();
                    }
                } else if (level === 3) {
                    if (userInput.toLowerCase() === "thisistheend") {
                        showOutro();
                    } else {
                        handleIncorrectInput();
                    }
                }
            }

            function handleIncorrectInput() {
                // Handle incorrect input
                // ...
            }

            function nextLevel() {
                currentLevel++;
                if (currentLevel < frames.length) {
                    showLevel(currentLevel);
                } else {
                    showOutro();
                }
            }

            function showOutro() {
                frames.forEach(frame => {
                    frame.style.display = 'none';
                });

                outroText.style.display = 'block';

                const outroMessage = "Congratulations! You have successfully completed all the levels of the puzzle game. " +
                    "You have proven your intelligence and problem-solving skills. Well done!\n\n";

                insertTextWithDelay(outroText, outroMessage);
            }

            frames.forEach((frame, index) => {
                const levelTextArea = levelTextAreas[index];
                const encryptedLabel = encryptedLabels[index];
                const submitButton = submitButtons[index];

                levelTextArea.value = '';
                encryptedLabel.textContent = encryptedTexts[index];

                insertTextWithDelay(levelTextArea, levelTexts[index]);

                submitButton.addEventListener('click', () => {
                    checkInput(index);
                });
            });

            showLevel(currentLevel);
        });
    </script>
</head>
<body>
    <div class="frame">
        <textarea class="level-text" cols="50" rows="10" disabled></textarea><br>
        <label class="encrypted-label"></label><br>
        <input class="input-entry" type="text"><br>
        <button class="submit-button">Submit</button>
    </div>
    <div class="frame">
        <textarea class="level-text" cols="50" rows="10" disabled></textarea><br>
        <label class="encrypted-label"></label><br>
        <input class="input-entry" type="text"><br>
        <button class="submit-button">Submit</button>
    </div>
    <div class="frame">
        <textarea class="level-text" cols="50" rows="10" disabled></textarea><br>
        <label class="encrypted-label"></label><br>
        <input class="input-entry" type="text"><br>
        <button class="submit-button">Submit</button>
    </div>
    <div class="frame">
        <textarea class="level-text" cols="50" rows="10" disabled></textarea><br>
        <label class="encrypted-label"></label><br>
        <input class="input-entry" type="text"><br>
        <button class="submit-button">Submit</button>
    </div>
    <textarea id="outro-text" cols="50" rows="10" disabled></textarea>
</body>
</html>